<!DOCTYPE html> <html lang="pt-br"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> Java: Enum, uma das coisas mais legais que tem &bull; Blog do Indião </title> <meta name="description" content="Enum facilita bastante a vida. Principalmente no Java, onde enum é um tipo de classe bem flexível e extensível."> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="https://oindiao.github.io//java-enum/"> <link rel="alternate" type="application/rss+xml" title="Blog do Indião" href="https://oindiao.github.io//feed.xml" /> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', '']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> </head> <body class="single"> <main class="main"> <header class="header"> <div class="overlay"> <div class="container"> <h1 class="title"> <a href="/">Blog do Indião</a> </h1> <nav class="navbar"> <a href="#" class="menu-icon"> <span></span> <span></span> <span></span> </a> <ul class="nav"> <li><a href="/">home</a></li> <li><a href="/about">sobre</a></li> </ul> </nav> </div> </div> </header> <article class="post container card"> <header class="post-header"> <h1 class="post-title">Java: Enum, uma das coisas mais legais que tem</h1> <span class="post-meta"> <time class="post-date" datetime="2019-10-16">Oct 16, 2019</time> <span class="post-author">by Rafael Fernandes Pereira</span> </span> </header> <div class="post-content"> <p>Enum facilita bastante a vida. Principalmente no Java, onde enum é um tipo de classe bem flexível e extensível.</p> <h2 id="o-que--umenum">O que é um Enum?</h2> <p>Enum é a representação de uma lista de valores constantes e pré definidos.</p> <p>Um exemplo em Java para representar os dias da semana:</p> <script src="https://gist.github.com/oindiao/763d4ef197f83a82f1862e89eeadaae7.js"></script> <p>Podemos acessar os valores de um enum direto, sem ter que instanciar a classe.</p> <div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">DaysOfWeek</span><span class="o">.</span><span class="na">MONDAY</span> <span class="o">);</span></code></pre></div> <p>A saída será:</p> <div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">MONDAY</span></code></pre></div> <p>E como é uma lista, é possível pegar o valor da posição.</p> <div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">DaysOfWeek</span><span class="o">.</span><span class="na">MONDAY</span><span class="o">.</span><span class="na">ordinal</span><span class="o">()</span> <span class="o">);</span></code></pre></div> <p>A saída será:</p> <div class="highlight"><pre><code class="language-java" data-lang="java"><span class="mi">1</span> <span class="c1">// A lista começa em 0, logo MONDAY será 1</span></code></pre></div> <p>Um Enum pode ser utilizado para diversas tarefas, principalmente quando queremos dar nomes mais amigáveis em valores pré-definidos de forma mais simples, como os dias da semana.</p> <h2 id="s-issoaff">Só isso? Aff…</h2> <p>No Java dá para fazer uma coisa bem interessante:</p> <blockquote> <p>Cada valor do enum pode ter um construtor… do próprio enum!</p> </blockquote> <p>Enum não deixa de ser uma classe como outra qualquer no java, logo podemos ter construtores no enum. Exemplo: o Enum de dias da semana poderia ter um construtor que recebe um String, sendo ela o nome traduzido para nosso dialeto:</p> <script src="https://gist.github.com/oindiao/97f96fff7d323d5bc3310794b1d40ae5.js"></script> <p>Com isso podemos ter a seguinte chamada:</p> <div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">DaysOfWeek</span><span class="o">.</span><span class="na">TUESDAY</span><span class="o">.</span><span class="na">getNameInPortuguese</span><span class="o">());</span></code></pre></div> <p>E a saída será:</p> <div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Terça</span><span class="o">-</span><span class="n">feira</span></code></pre></div> <p>E o construtor pode receber vários argumentos, e de qualquer tipo, seja primitivo ou não.</p> <p>Então… dá para fazer umas coisas bem legais :)</p> <p>A partir de agora vou usar exemplos e o código será didático, sem usar teste unitário, mock de dados, tabela, etc. A intenção é de mostrar apenas exemplos em código mesmo.</p> <p>Além disso, vamos pensar em um desenvolvimento de um projeto que gera pedidos ao departamento responsável: crio uma interface onde irá retornar as listas de pedidios, crio um enum com os tipos e no construtor de cada tipo de pedido eu coloco uma descrição e qual classe irá retornar a lista de pedidos.</p> <p>Meio confuso, mas a implementação é a seguinte:</p> <p>A classe de pedido seria composta pelo requisitante, data de vencimento e o valor.</p> <script src="https://gist.github.com/oindiao/bd98725a37b8baa38bc3fb35577d15b8.js"></script> <p>No meu contexto os pedidos poderiam vir de várias fontes de dados. Então para deixar isolado a forma de obter a lista de pedidos, criaria uma interface:</p> <script src="https://gist.github.com/oindiao/acf25d2ad0136fc086d5b7c893824e1e.js"></script> <p>E, para cada tipo de pedido que houvesse, implementaria essa interface:</p> <script src="https://gist.github.com/oindiao/694867a0c82d01c4b0ded59aed55ae46.js"></script> <p>Agora que vem a “mágica” do enum do java: posso colocar no construtor a interface <em>InterfaceOrderData</em> e em cada enum instanciar as classes que implementam a interface!</p> <script src="https://gist.github.com/oindiao/f3103c3d4d1e0bdb25b38551448400fd.js"></script> <p>A mágica acima possibilita fazer a seguinte invocação:</p> <div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">List</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">OrderType</span><span class="o">.</span><span class="na">TRAVEL</span><span class="o">.</span><span class="na">getInterfaceOrderData</span><span class="o">().</span><span class="na">get</span><span class="o">();</span></code></pre></div> <p>Finalizando o exemplo, as duas funcionalidades serão representadas pela seguinte interface:</p> <script src="https://gist.github.com/oindiao/26f5510c52d3b19bb8d37a6e1d8a7cc5.js"></script> <p>O enum OrderTypeDto:</p> <script src="https://gist.github.com/oindiao/d233c906ed6574575ffaa3a9fd229235.js"></script> <p>Então a implementação do método <em>getListOrderByType</em> seria algo assim:</p> <script src="https://gist.github.com/oindiao/b5c67faac8d2bb179b2db4706f3e7e16.js"></script> <p>E do método <em>getSizeOfType</em> ficaria:</p> <script src="https://gist.github.com/oindiao/dd17414f83ecdcaa8bb765441dc2a36f.js"></script> <p>Então se chamasse o método <em>getListOrderByType</em>, passando o tipo <strong>PAYMENT</strong>, poderia obter uma resposta do tipo:</p> <div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;requester&quot;</span><span class="o">:</span><span class="s2">&quot;Rafael&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;dueDate&quot;</span><span class="o">:</span><span class="s2">&quot;14/04/2019&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;value&quot;</span><span class="o">:</span><span class="mf">150.0</span>
    <span class="p">},</span> 
    <span class="p">{</span>
        <span class="s2">&quot;requester&quot;</span><span class="o">:</span><span class="s2">&quot;Carlos&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;dueDate&quot;</span><span class="o">:</span><span class="s2">&quot;03/12/2019&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;value&quot;</span><span class="o">:</span><span class="mf">300.6</span>
    <span class="p">}</span>
<span class="p">]</span></code></pre></div> <p>E o retorno do método teríamos:</p> <div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">&quot;PAYMENT&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> 
    <span class="s2">&quot;PURCHASE&quot;</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> 
    <span class="s2">&quot;TAX&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> 
    <span class="s2">&quot;TRAVEL&quot;</span><span class="o">:</span> <span class="mi">3</span>
<span class="p">}</span></code></pre></div> <p>Caso queira ver todo o código acima, clique <a href="https://github.com/oindiao/java-enum" title="código no github" target="_blank">aqui</a></p> <h2 id="concluso">Conclusão</h2> <p>Enum é uma das classes mais poderosas do Java. Ultra flexível e que resolve muitos problemas. E não é atoa que muitos <em>Design Patterns</em> usam Enum para serem aplicados, como acima, o <em>Strategy Pattern</em>, e também é possível usar no <em>Chain of Responsability</em>.</p> <p>Procure saber mais sobre Enum e Design Patterns, é só emoção e redução de “mal cheiro”.</p> <aside class="share"> </aside> </div> </article> <footer class="footer t-center"> <div class="container"> <div class="social-icons"> <ul class="text-left"> <li><a href="https://instagram.com/o.indiao" target="_blank"><i class="fa fa-instagram"></i></a></li> <li><a href="https://www.linkedin.com/in/oindiao/" target="_blank"><i class="fa fa-linkedin"></i></a></li> <li><a href="https://github.com/oindiao" target="_blank"><i class="fa fa-github"></i></a></li> <li><a href="https://medium.com/@oindiao" target="_blank"><i class="fa fa-medium"></i></a></li> </ul> </div> <small>&copy; 2020 All rights reserved. Made with <a href="http://jekyllrb.com" target="_blank">Jekyll</a> and <i class="icon icon-heart"></i></small> <small>by <a href="http://nandomoreira.me" target="_blank">nandomoreira.me</a></small> </div> </footer> </main> </body> </html></body></html>
<!--
// # Zetsu Jekyll theme - https://github.com/nandomoreriame/zetsu/
// by nandomoreira.me
-->
